{
    "openapi": "3.1.0",
    "info": {
        "title": "Etablissement Service",
        "version": "1.0.0"
    },
    "paths": {
        "/": {
            "get": {
                "summary": "Root",
                "description": "Endpoint racine de l'application.",
                "operationId": "root__get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            }
        },
        "/api/health/": {
            "get": {
                "tags": [
                    "Health",
                    "health"
                ],
                "summary": "Health Check",
                "description": "Vérifie la santé du service (connexion DB uniquement)",
                "operationId": "health_check_api_health__get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            }
        },
        "/api/etablissements/": {
            "post": {
                "tags": [
                    "establishments"
                ],
                "summary": "Create Establishment",
                "description": "Crée un ou plusieurs établissements\n\nAccepte soit un établissement unique, soit une liste d'établissements.\nEn cas d'erreur sur un seul établissement, tous sont annulés (rollback complet).\n\nRequiert le rôle ROLE_ADMIN.",
                "operationId": "create_establishment_api_etablissements__post",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/EtablissementCreateFlexible"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "anyOf": [
                                        {
                                            "$ref": "#/components/schemas/EtablissementOut"
                                        },
                                        {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/EtablissementOut"
                                            }
                                        }
                                    ],
                                    "title": "Response Create Establishment Api Etablissements  Post"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "establishments"
                ],
                "summary": "List Establishments",
                "description": "Liste tous les établissements avec pagination et filtres\n\nRequiert le rôle ROLE_ADMIN.",
                "operationId": "list_establishments_api_etablissements__get",
                "parameters": [
                    {
                        "name": "status",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "$ref": "#/components/schemas/StatusEnum",
                            "description": "Filtrer par statut"
                        },
                        "description": "Filtrer par statut"
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 100,
                            "minimum": 1,
                            "description": "Nombre maximum d'éléments",
                            "default": 10,
                            "title": "Limit"
                        },
                        "description": "Nombre maximum d'éléments"
                    },
                    {
                        "name": "offset",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "description": "Offset pour la pagination",
                            "default": 0,
                            "title": "Offset"
                        },
                        "description": "Offset pour la pagination"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/EtablissementOut"
                                    },
                                    "title": "Response List Establishments Api Etablissements  Get"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/etablissements/last-code": {
            "get": {
                "tags": [
                    "establishments"
                ],
                "summary": "Get Last Code Etablissement",
                "description": "Récupère le dernier code établissement utilisé\n\nCette route permet aux administrateurs de connaître le dernier code utilisé.\nLa logique de calcul du code suivant appartient au client.\n\nRequiert le rôle ROLE_ADMIN.",
                "operationId": "get_last_code_etablissement_api_etablissements_last_code_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/LastCodeEtablissementResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/etablissements/{establishment_id}": {
            "get": {
                "tags": [
                    "establishments"
                ],
                "summary": "Get Establishment",
                "description": "Récupère un établissement par son ID\n\nRequiert le rôle ROLE_ADMIN ou ROLE_ADMINSTAFF.\nROLE_ADMINSTAFF ne peut accéder qu'à son propre établissement.",
                "operationId": "get_establishment_api_etablissements__establishment_id__get",
                "parameters": [
                    {
                        "name": "establishment_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Establishment Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/EtablissementOut"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "patch": {
                "tags": [
                    "establishments"
                ],
                "summary": "Update Establishment",
                "description": "Met à jour les informations d'un établissement",
                "operationId": "update_establishment_api_etablissements__establishment_id__patch",
                "parameters": [
                    {
                        "name": "establishment_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Establishment Id"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/EtablissementUpdate"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/EtablissementOut"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/etablissements/{establishment_id}/coordinates": {
            "patch": {
                "tags": [
                    "establishments"
                ],
                "summary": "Update Establishment Coordinates",
                "description": "Met à jour les coordonnées d'un établissement\n\nRequiert le rôle ROLE_ADMIN ou ROLE_ADMINSTAFF.\nROLE_ADMINSTAFF ne peut modifier que son propre établissement.",
                "operationId": "update_establishment_coordinates_api_etablissements__establishment_id__coordinates_patch",
                "parameters": [
                    {
                        "name": "establishment_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Establishment Id"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/EtablissementCoordinatesUpdate"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/EtablissementOut"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/etablissements/{establishment_id}/status": {
            "patch": {
                "tags": [
                    "establishments"
                ],
                "summary": "Update Establishment Status",
                "description": "Met à jour le statut d'un établissement\n\nRequiert le rôle ROLE_ADMIN.",
                "operationId": "update_establishment_status_api_etablissements__establishment_id__status_patch",
                "parameters": [
                    {
                        "name": "establishment_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Establishment Id"
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "$ref": "#/components/schemas/StatusEnum"
                        }
                    },
                    {
                        "name": "motif",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "title": "Motif"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/EtablissementOut"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/etablissements/public/": {
            "get": {
                "tags": [
                    "establishments"
                ],
                "summary": "List Public Establishments",
                "description": "Liste publique des etablissements actifs\n\nAucune authentification requise - accessible publiquement.\nRetourne seulement les etablissements avec le statut ACTIVE.",
                "operationId": "list_public_establishments_api_etablissements_public__get",
                "parameters": [
                    {
                        "name": "limit",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 100,
                            "minimum": 1,
                            "description": "Nombre maximum d'elements",
                            "default": 10,
                            "title": "Limit"
                        },
                        "description": "Nombre maximum d'elements"
                    },
                    {
                        "name": "offset",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "description": "Offset pour la pagination",
                            "default": 0,
                            "title": "Offset"
                        },
                        "description": "Offset pour la pagination"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/EtablissementOut"
                                    },
                                    "title": "Response List Public Establishments Api Etablissements Public  Get"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/etablissements/{establishment_id}/audit": {
            "get": {
                "tags": [
                    "establishments"
                ],
                "summary": "Get Establishment Audit",
                "description": "Récupère l'historique d'audit d'un établissement avec filtres et pagination\n\nRequiert le rôle ROLE_ADMIN ou ROLE_ADMINSTAFF.\nROLE_ADMINSTAFF ne peut accéder qu'à l'audit de son propre établissement.\n\n**Paramètres de filtrage :**\n- `operation` : Type d'opération (CREATE, UPDATE, DELETE, STATUS_CHANGE, INSERT)\n- `auteur_id` : ID de l'auteur de l'opération\n- `auteur_nom` : Nom de l'auteur (recherche partielle)\n- `date_from` : Date de début pour le filtrage\n- `date_to` : Date de fin pour le filtrage\n\n**Paramètres de pagination :**\n- `limit` : Nombre maximum d'éléments (1-100)\n- `offset` : Offset pour la pagination\n\n**Paramètres de tri :**\n- `sort_by` : Champ de tri (date_operation, operation, auteur_nom, id)\n- `sort_order` : Ordre de tri (asc/desc)",
                "operationId": "get_establishment_audit_api_etablissements__establishment_id__audit_get",
                "parameters": [
                    {
                        "name": "establishment_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Establishment Id"
                        }
                    },
                    {
                        "name": "operation",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "$ref": "#/components/schemas/AuditOperationEnum"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Filtrer par type d'opération",
                            "title": "Operation"
                        },
                        "description": "Filtrer par type d'opération"
                    },
                    {
                        "name": "auteur_id",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Filtrer par ID de l'auteur",
                            "title": "Auteur Id"
                        },
                        "description": "Filtrer par ID de l'auteur"
                    },
                    {
                        "name": "auteur_nom",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Filtrer par nom de l'auteur",
                            "title": "Auteur Nom"
                        },
                        "description": "Filtrer par nom de l'auteur"
                    },
                    {
                        "name": "date_from",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string",
                                    "format": "date-time"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Date de début pour le filtrage",
                            "title": "Date From"
                        },
                        "description": "Date de début pour le filtrage"
                    },
                    {
                        "name": "date_to",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string",
                                    "format": "date-time"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Date de fin pour le filtrage",
                            "title": "Date To"
                        },
                        "description": "Date de fin pour le filtrage"
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 100,
                            "minimum": 1,
                            "description": "Nombre maximum d'éléments",
                            "default": 10,
                            "title": "Limit"
                        },
                        "description": "Nombre maximum d'éléments"
                    },
                    {
                        "name": "offset",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "description": "Offset pour la pagination",
                            "default": 0,
                            "title": "Offset"
                        },
                        "description": "Offset pour la pagination"
                    },
                    {
                        "name": "sort_by",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "description": "Champ de tri",
                            "default": "date_operation",
                            "title": "Sort By"
                        },
                        "description": "Champ de tri"
                    },
                    {
                        "name": "sort_order",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "description": "Ordre de tri (asc/desc)",
                            "default": "desc",
                            "title": "Sort Order"
                        },
                        "description": "Ordre de tri (asc/desc)"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/AuditListResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/etablissements/{establishment_id}/audit/statistics": {
            "get": {
                "tags": [
                    "establishments"
                ],
                "summary": "Get Establishment Audit Statistics",
                "description": "Récupère les statistiques d'audit pour un établissement\n\nRequiert le rôle ROLE_ADMIN ou ROLE_ADMINSTAFF.\nROLE_ADMINSTAFF ne peut accéder qu'aux statistiques de son propre établissement.\n\n**Retourne :**\n- Nombre total d'opérations\n- Nombre d'opérations par type\n- Date de la dernière opération\n- Utilisateur le plus actif\n- Nombre d'opérations ce mois-ci",
                "operationId": "get_establishment_audit_statistics_api_etablissements__establishment_id__audit_statistics_get",
                "parameters": [
                    {
                        "name": "establishment_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Establishment Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/AuditStatistics"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/etablissements/{establishment_id}/audit/summary": {
            "get": {
                "tags": [
                    "establishments"
                ],
                "summary": "Get Establishment Audit Summary",
                "description": "Récupère un résumé d'audit pour un établissement sur une période donnée\n\nRequiert le rôle ROLE_ADMIN ou ROLE_ADMINSTAFF.\nROLE_ADMINSTAFF ne peut accéder qu'au résumé de son propre établissement.\n\n**Paramètres :**\n- `days` : Nombre de jours pour le résumé (1-365, défaut: 30)\n\n**Retourne :**\n- Résumé des opérations par type\n- Activité par utilisateur\n- Activité quotidienne\n- Utilisateur le plus actif\n- Opération la plus courante",
                "operationId": "get_establishment_audit_summary_api_etablissements__establishment_id__audit_summary_get",
                "parameters": [
                    {
                        "name": "establishment_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Establishment Id"
                        }
                    },
                    {
                        "name": "days",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 365,
                            "minimum": 1,
                            "description": "Nombre de jours pour le résumé",
                            "default": 30,
                            "title": "Days"
                        },
                        "description": "Nombre de jours pour le résumé"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": true,
                                    "title": "Response Get Establishment Audit Summary Api Etablissements  Establishment Id  Audit Summary Get"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/etablissements/{establishment_id}/audit/export": {
            "get": {
                "tags": [
                    "establishments"
                ],
                "summary": "Export Establishment Audit",
                "description": "Exporte les données d'audit d'un établissement\n\nRequiert le rôle ROLE_ADMIN ou ROLE_ADMINSTAFF.\nROLE_ADMINSTAFF ne peut exporter que les données de son propre établissement.\n\n**Paramètres :**\n- `date_from` : Date de début pour l'export (optionnel)\n- `date_to` : Date de fin pour l'export (optionnel)\n- `format` : Format d'export (\"json\" ou \"csv\")\n\n**Retourne :**\n- Fichier JSON ou CSV avec les données d'audit",
                "operationId": "export_establishment_audit_api_etablissements__establishment_id__audit_export_get",
                "parameters": [
                    {
                        "name": "establishment_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Establishment Id"
                        }
                    },
                    {
                        "name": "date_from",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string",
                                    "format": "date-time"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Date de début pour l'export",
                            "title": "Date From"
                        },
                        "description": "Date de début pour l'export"
                    },
                    {
                        "name": "date_to",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string",
                                    "format": "date-time"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Date de fin pour l'export",
                            "title": "Date To"
                        },
                        "description": "Date de fin pour l'export"
                    },
                    {
                        "name": "format",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "description": "Format d'export (json ou csv)",
                            "default": "json",
                            "title": "Format"
                        },
                        "description": "Format d'export (json ou csv)"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/etablissements/{establishment_id}/audit/manual": {
            "post": {
                "tags": [
                    "establishments"
                ],
                "summary": "Create Manual Audit Entry",
                "description": "Crée manuellement une entrée d'audit pour un établissement\n\nRequiert le rôle ROLE_ADMIN.\n\n**Corps de la requête :**\n```json\n{\n    \"operation\": \"CUSTOM_OPERATION\",\n    \"motif\": \"Description de l'opération\",\n    \"auteur_id\": \"user-123\",\n    \"auteur_nom\": \"Nom de l'utilisateur\"\n}\n```\n\n**Retourne :**\n- L'entrée d'audit créée",
                "operationId": "create_manual_audit_entry_api_etablissements__establishment_id__audit_manual_post",
                "parameters": [
                    {
                        "name": "establishment_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Establishment Id"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ManualAuditCreate"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/EtablissementAuditResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/etablissements/{establishment_id}/batiments": {
            "post": {
                "tags": [
                    "establishments"
                ],
                "summary": "Create Building",
                "operationId": "create_building_api_etablissements__establishment_id__batiments_post",
                "parameters": [
                    {
                        "name": "establishment_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Establishment Id"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/BuildingCreate"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BuildingOut"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "establishments"
                ],
                "summary": "List Buildings",
                "operationId": "list_buildings_api_etablissements__establishment_id__batiments_get",
                "parameters": [
                    {
                        "name": "establishment_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Establishment Id"
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 1,
                            "default": 1,
                            "title": "Page"
                        }
                    },
                    {
                        "name": "size",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 100,
                            "minimum": 1,
                            "default": 10,
                            "title": "Size"
                        }
                    },
                    {
                        "name": "q",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "description": "Recherche par nom",
                            "title": "Q"
                        },
                        "description": "Recherche par nom"
                    },
                    {
                        "name": "order_by",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "default": "created_at",
                            "title": "Order By"
                        }
                    },
                    {
                        "name": "order_dir",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "default": "desc",
                            "title": "Order Dir"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BuildingListResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/etablissements/{establishment_id}/batiments/{building_id}": {
            "get": {
                "tags": [
                    "establishments"
                ],
                "summary": "Get Building",
                "operationId": "get_building_api_etablissements__establishment_id__batiments__building_id__get",
                "parameters": [
                    {
                        "name": "establishment_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Establishment Id"
                        }
                    },
                    {
                        "name": "building_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Building Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BuildingOut"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "patch": {
                "tags": [
                    "establishments"
                ],
                "summary": "Update Building",
                "operationId": "update_building_api_etablissements__establishment_id__batiments__building_id__patch",
                "parameters": [
                    {
                        "name": "establishment_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Establishment Id"
                        }
                    },
                    {
                        "name": "building_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Building Id"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/BuildingUpdate"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BuildingOut"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "establishments"
                ],
                "summary": "Delete Building",
                "operationId": "delete_building_api_etablissements__establishment_id__batiments__building_id__delete",
                "parameters": [
                    {
                        "name": "establishment_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Establishment Id"
                        }
                    },
                    {
                        "name": "building_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Building Id"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Successful Response"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/etablissements/{establishment_id}/batiments/{building_id}/salles": {
            "post": {
                "tags": [
                    "establishments"
                ],
                "summary": "Create Room",
                "operationId": "create_room_api_etablissements__establishment_id__batiments__building_id__salles_post",
                "parameters": [
                    {
                        "name": "establishment_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Establishment Id"
                        }
                    },
                    {
                        "name": "building_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Building Id"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/RoomCreate"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RoomOut"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "establishments"
                ],
                "summary": "List Rooms",
                "operationId": "list_rooms_api_etablissements__establishment_id__batiments__building_id__salles_get",
                "parameters": [
                    {
                        "name": "establishment_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Establishment Id"
                        }
                    },
                    {
                        "name": "building_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Building Id"
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 1,
                            "default": 1,
                            "title": "Page"
                        }
                    },
                    {
                        "name": "size",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 100,
                            "minimum": 1,
                            "default": 10,
                            "title": "Size"
                        }
                    },
                    {
                        "name": "q",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "title": "Q"
                        }
                    },
                    {
                        "name": "order_by",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "default": "created_at",
                            "title": "Order By"
                        }
                    },
                    {
                        "name": "order_dir",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "default": "desc",
                            "title": "Order Dir"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RoomListResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/etablissements/{establishment_id}/batiments/{building_id}/salles/{room_id}": {
            "get": {
                "tags": [
                    "establishments"
                ],
                "summary": "Get Room",
                "operationId": "get_room_api_etablissements__establishment_id__batiments__building_id__salles__room_id__get",
                "parameters": [
                    {
                        "name": "establishment_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Establishment Id"
                        }
                    },
                    {
                        "name": "building_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Building Id"
                        }
                    },
                    {
                        "name": "room_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Room Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RoomOut"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "patch": {
                "tags": [
                    "establishments"
                ],
                "summary": "Update Room",
                "operationId": "update_room_api_etablissements__establishment_id__batiments__building_id__salles__room_id__patch",
                "parameters": [
                    {
                        "name": "establishment_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Establishment Id"
                        }
                    },
                    {
                        "name": "building_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Building Id"
                        }
                    },
                    {
                        "name": "room_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Room Id"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/RoomUpdate"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RoomOut"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "establishments"
                ],
                "summary": "Delete Room",
                "operationId": "delete_room_api_etablissements__establishment_id__batiments__building_id__salles__room_id__delete",
                "parameters": [
                    {
                        "name": "establishment_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Establishment Id"
                        }
                    },
                    {
                        "name": "building_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Building Id"
                        }
                    },
                    {
                        "name": "room_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "title": "Room Id"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Successful Response"
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "AuditListResponse": {
                "properties": {
                    "items": {
                        "items": {
                            "$ref": "#/components/schemas/EtablissementAuditResponse"
                        },
                        "type": "array",
                        "title": "Items"
                    },
                    "total": {
                        "type": "integer",
                        "title": "Total"
                    },
                    "limit": {
                        "type": "integer",
                        "title": "Limit"
                    },
                    "offset": {
                        "type": "integer",
                        "title": "Offset"
                    },
                    "has_more": {
                        "type": "boolean",
                        "title": "Has More"
                    }
                },
                "type": "object",
                "required": [
                    "items",
                    "total",
                    "limit",
                    "offset",
                    "has_more"
                ],
                "title": "AuditListResponse"
            },
            "AuditOperationEnum": {
                "type": "string",
                "enum": [
                    "CREATE",
                    "UPDATE",
                    "DELETE",
                    "STATUS_CHANGE",
                    "INSERT",
                    "ACCESS_DENIED"
                ],
                "title": "AuditOperationEnum"
            },
            "AuditStatistics": {
                "properties": {
                    "total_operations": {
                        "type": "integer",
                        "title": "Total Operations"
                    },
                    "operations_by_type": {
                        "additionalProperties": {
                            "type": "integer"
                        },
                        "type": "object",
                        "title": "Operations By Type"
                    },
                    "last_operation_date": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Last Operation Date"
                    },
                    "most_active_user": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Most Active User"
                    },
                    "operations_this_month": {
                        "type": "integer",
                        "title": "Operations This Month"
                    }
                },
                "type": "object",
                "required": [
                    "total_operations",
                    "operations_by_type",
                    "operations_this_month"
                ],
                "title": "AuditStatistics"
            },
            "BuildingCreate": {
                "properties": {
                    "code_batiment": {
                        "type": "string",
                        "title": "Code Batiment",
                        "description": "Code unique du bâtiment (unique par établissement)"
                    },
                    "nom": {
                        "type": "string",
                        "title": "Nom",
                        "description": "Nom du bâtiment"
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description",
                        "description": "Description du bâtiment"
                    },
                    "nombre_etages": {
                        "anyOf": [
                            {
                                "type": "integer",
                                "minimum": 0.0
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Nombre Etages",
                        "description": "Nombre d'étages"
                    },
                    "active": {
                        "type": "boolean",
                        "title": "Active",
                        "default": true
                    }
                },
                "type": "object",
                "required": [
                    "code_batiment",
                    "nom"
                ],
                "title": "BuildingCreate"
            },
            "BuildingListResponse": {
                "properties": {
                    "items": {
                        "items": {
                            "$ref": "#/components/schemas/BuildingOut"
                        },
                        "type": "array",
                        "title": "Items"
                    },
                    "total": {
                        "type": "integer",
                        "title": "Total"
                    },
                    "page": {
                        "type": "integer",
                        "title": "Page"
                    },
                    "size": {
                        "type": "integer",
                        "title": "Size"
                    },
                    "pages": {
                        "type": "integer",
                        "title": "Pages"
                    },
                    "has_next": {
                        "type": "boolean",
                        "title": "Has Next"
                    },
                    "has_prev": {
                        "type": "boolean",
                        "title": "Has Prev"
                    }
                },
                "type": "object",
                "required": [
                    "items",
                    "total",
                    "page",
                    "size",
                    "pages",
                    "has_next",
                    "has_prev"
                ],
                "title": "BuildingListResponse"
            },
            "BuildingOut": {
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "title": "Id"
                    },
                    "establishment_id": {
                        "type": "string",
                        "format": "uuid",
                        "title": "Establishment Id"
                    },
                    "code_batiment": {
                        "type": "string",
                        "title": "Code Batiment"
                    },
                    "nom": {
                        "type": "string",
                        "title": "Nom"
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description"
                    },
                    "nombre_etages": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Nombre Etages"
                    },
                    "active": {
                        "type": "boolean",
                        "title": "Active"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "title": "Created At"
                    },
                    "updated_at": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Updated At"
                    },
                    "deleted_at": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Deleted At"
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "establishment_id",
                    "code_batiment",
                    "nom",
                    "description",
                    "nombre_etages",
                    "active",
                    "created_at",
                    "updated_at",
                    "deleted_at"
                ],
                "title": "BuildingOut"
            },
            "BuildingUpdate": {
                "properties": {
                    "nom": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Nom"
                    },
                    "description": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Description"
                    },
                    "nombre_etages": {
                        "anyOf": [
                            {
                                "type": "integer",
                                "minimum": 0.0
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Nombre Etages"
                    },
                    "active": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Active"
                    }
                },
                "type": "object",
                "title": "BuildingUpdate"
            },
            "EtablissementAuditResponse": {
                "properties": {
                    "id": {
                        "type": "integer",
                        "title": "Id"
                    },
                    "etablissement_id": {
                        "type": "string",
                        "format": "uuid",
                        "title": "Etablissement Id"
                    },
                    "operation": {
                        "type": "string",
                        "title": "Operation"
                    },
                    "motif": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Motif"
                    },
                    "auteur_id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Auteur Id"
                    },
                    "auteur_nom": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Auteur Nom"
                    },
                    "date_operation": {
                        "type": "string",
                        "format": "date-time",
                        "title": "Date Operation"
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "etablissement_id",
                    "operation",
                    "date_operation"
                ],
                "title": "EtablissementAuditResponse"
            },
            "EtablissementCoordinatesUpdate": {
                "properties": {
                    "adresse": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Adresse"
                    },
                    "email": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Email"
                    },
                    "telephone": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Telephone"
                    },
                    "ville": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Ville"
                    },
                    "pays": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Pays"
                    }
                },
                "type": "object",
                "title": "EtablissementCoordinatesUpdate"
            },
            "EtablissementCreate": {
                "properties": {
                    "nom": {
                        "type": "string",
                        "title": "Nom"
                    },
                    "adresse": {
                        "type": "string",
                        "title": "Adresse"
                    },
                    "email": {
                        "type": "string",
                        "title": "Email"
                    },
                    "telephone": {
                        "type": "string",
                        "title": "Telephone"
                    },
                    "ville": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Ville"
                    },
                    "pays": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Pays"
                    },
                    "code_etablissement": {
                        "type": "string",
                        "title": "Code Etablissement"
                    },
                    "plan": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/PlanEnum"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "default": "BASIC"
                    },
                    "status": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/StatusEnum"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "default": "TRIAL"
                    },
                    "active": {
                        "type": "boolean",
                        "title": "Active",
                        "default": true
                    }
                },
                "type": "object",
                "required": [
                    "nom",
                    "adresse",
                    "email",
                    "telephone",
                    "code_etablissement"
                ],
                "title": "EtablissementCreate"
            },
            "EtablissementCreateFlexible": {
                "properties": {
                    "data": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/EtablissementCreate"
                            },
                            {
                                "items": {
                                    "$ref": "#/components/schemas/EtablissementCreate"
                                },
                                "type": "array"
                            }
                        ],
                        "title": "Data"
                    }
                },
                "type": "object",
                "required": [
                    "data"
                ],
                "title": "EtablissementCreateFlexible",
                "description": "Accepte soit un établissement, soit une liste d'établissements, ou un payload non wrappé.\nLe router peut poster directement un objet ou {\"data\": objet}."
            },
            "EtablissementOut": {
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "title": "Id"
                    },
                    "nom": {
                        "type": "string",
                        "title": "Nom"
                    },
                    "adresse": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Adresse"
                    },
                    "code_etablissement": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Code Etablissement"
                    },
                    "email": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Email"
                    },
                    "telephone": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Telephone"
                    },
                    "ville": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Ville"
                    },
                    "pays": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Pays"
                    },
                    "plan": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/PlanEnum"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "status": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/StatusEnum"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "subscription_start": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Subscription Start"
                    },
                    "subscription_end": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Subscription End"
                    },
                    "etablissement_group": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Etablissement Group"
                    },
                    "etablissement_id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Etablissement Id"
                    },
                    "created_at": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Created At"
                    },
                    "updated_at": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Updated At"
                    },
                    "deleted_at": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Deleted At"
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "nom",
                    "adresse",
                    "code_etablissement",
                    "email",
                    "telephone",
                    "ville",
                    "pays",
                    "plan",
                    "status",
                    "subscription_start",
                    "subscription_end",
                    "etablissement_group",
                    "etablissement_id",
                    "created_at",
                    "updated_at",
                    "deleted_at"
                ],
                "title": "EtablissementOut"
            },
            "EtablissementUpdate": {
                "properties": {
                    "nom": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Nom"
                    },
                    "adresse": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Adresse"
                    },
                    "email": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Email"
                    },
                    "telephone": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Telephone"
                    },
                    "ville": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Ville"
                    },
                    "pays": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Pays"
                    },
                    "plan": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/PlanEnum"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "status": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/StatusEnum"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "active": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Active"
                    }
                },
                "type": "object",
                "title": "EtablissementUpdate"
            },
            "HTTPValidationError": {
                "properties": {
                    "detail": {
                        "items": {
                            "$ref": "#/components/schemas/ValidationError"
                        },
                        "type": "array",
                        "title": "Detail"
                    }
                },
                "type": "object",
                "title": "HTTPValidationError"
            },
            "LastCodeEtablissementResponse": {
                "properties": {
                    "last_code": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Last Code",
                        "description": "Le dernier code établissement utilisé"
                    }
                },
                "type": "object",
                "title": "LastCodeEtablissementResponse",
                "description": "Schéma simplifié pour la réponse du dernier code établissement"
            },
            "ManualAuditCreate": {
                "properties": {
                    "operation": {
                        "type": "string",
                        "title": "Operation"
                    },
                    "motif": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Motif"
                    },
                    "auteur_id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Auteur Id"
                    },
                    "auteur_nom": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Auteur Nom"
                    }
                },
                "type": "object",
                "required": [
                    "operation"
                ],
                "title": "ManualAuditCreate"
            },
            "PlanEnum": {
                "type": "string",
                "enum": [
                    "BASIC",
                    "PRO",
                    "ENTREPRISE"
                ],
                "title": "PlanEnum"
            },
            "RoomCreate": {
                "properties": {
                    "code_salle": {
                        "type": "string",
                        "title": "Code Salle",
                        "description": "Code unique de la salle (unique par bâtiment)"
                    },
                    "nom": {
                        "type": "string",
                        "title": "Nom",
                        "description": "Nom de la salle"
                    },
                    "capacite": {
                        "anyOf": [
                            {
                                "type": "integer",
                                "minimum": 0.0
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Capacite"
                    },
                    "etage": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Etage"
                    },
                    "type_salle": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/RoomType"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "active": {
                        "type": "boolean",
                        "title": "Active",
                        "default": true
                    }
                },
                "type": "object",
                "required": [
                    "code_salle",
                    "nom"
                ],
                "title": "RoomCreate"
            },
            "RoomListResponse": {
                "properties": {
                    "items": {
                        "items": {
                            "$ref": "#/components/schemas/RoomOut"
                        },
                        "type": "array",
                        "title": "Items"
                    },
                    "total": {
                        "type": "integer",
                        "title": "Total"
                    },
                    "page": {
                        "type": "integer",
                        "title": "Page"
                    },
                    "size": {
                        "type": "integer",
                        "title": "Size"
                    },
                    "pages": {
                        "type": "integer",
                        "title": "Pages"
                    },
                    "has_next": {
                        "type": "boolean",
                        "title": "Has Next"
                    },
                    "has_prev": {
                        "type": "boolean",
                        "title": "Has Prev"
                    }
                },
                "type": "object",
                "required": [
                    "items",
                    "total",
                    "page",
                    "size",
                    "pages",
                    "has_next",
                    "has_prev"
                ],
                "title": "RoomListResponse"
            },
            "RoomOut": {
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "title": "Id"
                    },
                    "establishment_id": {
                        "type": "string",
                        "format": "uuid",
                        "title": "Establishment Id"
                    },
                    "building_id": {
                        "type": "string",
                        "format": "uuid",
                        "title": "Building Id"
                    },
                    "code_salle": {
                        "type": "string",
                        "title": "Code Salle"
                    },
                    "nom": {
                        "type": "string",
                        "title": "Nom"
                    },
                    "capacite": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Capacite"
                    },
                    "etage": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Etage"
                    },
                    "type_salle": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/RoomType"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "active": {
                        "type": "boolean",
                        "title": "Active"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "title": "Created At"
                    },
                    "updated_at": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Updated At"
                    },
                    "deleted_at": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Deleted At"
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "establishment_id",
                    "building_id",
                    "code_salle",
                    "nom",
                    "capacite",
                    "etage",
                    "type_salle",
                    "active",
                    "created_at",
                    "updated_at",
                    "deleted_at"
                ],
                "title": "RoomOut"
            },
            "RoomType": {
                "type": "string",
                "enum": [
                    "CLASSROOM",
                    "LAB",
                    "OFFICE",
                    "OTHER"
                ],
                "title": "RoomType"
            },
            "RoomUpdate": {
                "properties": {
                    "nom": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Nom"
                    },
                    "capacite": {
                        "anyOf": [
                            {
                                "type": "integer",
                                "minimum": 0.0
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Capacite"
                    },
                    "etage": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Etage"
                    },
                    "type_salle": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/RoomType"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "active": {
                        "anyOf": [
                            {
                                "type": "boolean"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Active"
                    }
                },
                "type": "object",
                "title": "RoomUpdate"
            },
            "StatusEnum": {
                "type": "string",
                "enum": [
                    "TRIAL",
                    "ACTIVE",
                    "SUSPENDED",
                    "CLOSED"
                ],
                "title": "StatusEnum"
            },
            "ValidationError": {
                "properties": {
                    "loc": {
                        "items": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "integer"
                                }
                            ]
                        },
                        "type": "array",
                        "title": "Location"
                    },
                    "msg": {
                        "type": "string",
                        "title": "Message"
                    },
                    "type": {
                        "type": "string",
                        "title": "Error Type"
                    }
                },
                "type": "object",
                "required": [
                    "loc",
                    "msg",
                    "type"
                ],
                "title": "ValidationError"
            }
        }
    }
}